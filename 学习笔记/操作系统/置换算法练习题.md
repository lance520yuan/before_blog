# 置换算法练习题

题目：

(1) 对下述页面走向：7，0，1，2，0，3，0，4，2，3，0，3，2，1，2，0，1，7，0，1，当内存块数量为4时，分别利用LRU和FIFO置换算法求出缺页次数和缺页率。

LRU M=4
| 时刻  |   1   |   2   |   3    |    4     |      5      |    6     |     7     |    8     |    9    |   10    |   11    |   12    |    13     |    14    |   15    |   16    |     17      |    18    |   19    |    20     |
| :---: | :---: | :---: | :----: | :------: | :---------: | :------: | :-------: | :------: | :-----: | :-----: | :-----: | :-----: | :-------: | :------: | :-----: | :-----: | :---------: | :------: | :-----: | :-------: |
|   P   |   7   |   0   |   1    |    2     |      0      |    3     |     0     |    4     |    2    |    3    |    0    |    3    |     2     |    1     |    2    |    0    |      1      |    7     |    0    |     1     |
|   M   |  7+   | 0+ 7  | 1+ 0 7 | 2+ 1 0 7 | 0 2 1 (7) | 3+ 0 2 1 | 0 3 2 (1) | 4+ 0 3 2 | 2 4 0 3 | 3 2 4 0 | 0 3 2 4 | 3 0 2 4 | 2 3 0 (4) | 1+ 2 3 0 | 2 1 3 0 | 0 2 1 3 | 1 0 2 (3) | 7+ 1 0 2 | 0 7 1 2 | 1 0 7 2 |
|   F   |   +   |   +   |   +    |    +     |             |    +     |           |    +     |         |         |         |         |           |    +     |         |         |             |    +     |         |           |

F=8 缺页率
f=8/20=40%

FIFO M=4
| 时刻  |   1   |   2   |   3    |    4     |      5      |    6     |      7      |     8      |    9    |   10    |   11    |   12    |    13     |    14    |   15    |   16    |     17      |    18    |   19    |    20     |
| :---: | :---: | :---: | :----: | :------: | :---------: | :------: | :---------: | :--------: | :-----: | :-----: | :-----: | :-----: | :-------: | :------: | :-----: | :-----: | :---------: | :------: | :-----: | :-------: |
|   P   |   7   |   0   |   1    |    2     |      0      |    3     |      0      |     4      |    2    |    3    |    0    |    3    |     2     |    1     |    2    |    0    |      1      |    7     |    0    |     1     |
|   M   |  7+   | 0+ 7  | 1+ 0 7 | 2+ 1 0 7 | 2 1 0 (7) | 3+ 2 1 0 | 3 2 1 (0) | 4+ 3 2 1 | 4 3 2 1| 4 3 2 (1)| 0+ 4 3 2 | 0 4 3 2 | 0 4 3 (2) | 1+ 0 4 (3) | 2+ 1 0 4 | 2 1 0 4 | 2 1 0 (4)| 7+ 2 1 0 | 7 2 1 0 | 7 2 1 0|
|   F   |   +   |   +   |   +    |    +     |             |    +     |             |     +      |         |         |     +    |         |           |    +     |       +  |        |             |     +    |         |           |
F=10 缺页率

f=10/20=50%

(2）对下述页面走向：1，2，3，4，2，1，5，6，2，1，2，3，7，6，3，2，1，2，3，6，当内存块数量为3时，分别利用LRU和FIFO置换算法求出缺页次数和缺页率。
LRU M=3
| 时刻  |   1   |   2   |   3    |    4     |      5      |    6     |     7     |    8     |    9    |   10    |   11    |   12    |    13     |    14    |   15    |   16    |     17      |    18    |   19    |    20     |
| :---: | :---: | :---: | :----: | :------: | :---------: | :------: | :---------: | :--------: | :-----: | :-----: | :-----: | :-----: | :-------: | :------: | :-----: | :-----: | :---------: | :------: | :-----: | :-------: |
|P|1|2|3|4|2|1|5|6|2|1|2|3|7|6|3|2|1|2|3|6|
|M|1+|2+ 1|3+ 2 (1)|4+ 3 2|2 4 (3)|1+ 2 (4)|5+ 1 (2)|6+ 5 (1)|2+ 6 (5)|1+ 2 6|2 1 (6)|3+ 2 (1)|7+ 3 (2)|6+ 7 3|3 6 (7)|2+ 3 (6)|1+ 2 3|2 1 3|3 2 (1)|6+ 3 2|
|   F   |   +   |   +   |   +    |    +     |             |    +     |   +          |     +      |    +     |     +    |         |     +    |     +      |    +     |         |    +    |     +        |         |         |     +      |
F=15 缺页率

f=15/20=75%

FIFO M=3
| 时刻  |   1   |   2   |   3    |    4     |      5      |    6     |     7     |    8     |    9    |   10    |   11    |   12    |    13     |    14    |   15    |   16    |     17      |    18    |   19    |    20     |
| :---: | :---: | :---: | :----: | :------: | :---------: | :------: | :---------: | :--------: | :-----: | :-----: | :-----: | :-----: | :-------: | :------: | :-----: | :-----: | :---------: | :------: | :-----: | :-------: |
|P|1|2|3|4|2|1|5|6|2|1|2|3|7|6|3|2|1|2|3|6|
|M|1+|2+ 1|3+ 2 (1)|4+ 3 2|4 3 (2)|1+ 4 3|5+ 1 (4)|6+ 5 (1)|2+ 6 (5)|1+ 2 6|1 2 (6)|3+ 1 (2)|7+ 3 (1)|6+ 7 3|6 7 (3)|2+ 6 (7)|1+ 2 6|1 2 (6)|3+ 1 (2)|6+ 3 1|
|   F   |   +   |   +   |   +    |    +     |             |    +     |   +          |     +      |    +     |     +    |         |     +    |     +      |    +     |         |    +    |     +        |         |    +     |     +      |
F=16 缺页率

f=16/20=80%
